app:
  host: localhost
  port: 8109
  root: /auth

siam:
  base_url: ${SIAM_URL:-http://localhost}
  aselect_server: ${SIAM_A_SELECT_SERVER:-localhost}
  app_id: ${SIAM_APP_ID:-app_id}
  shared_secret: ${SIAM_SHARED_SECRET:-siamsecret}

jwt:
  refreshtokens:
    secret: $JWT_REFRESH_SECRET
    algorithm: HS256
    lifetime: 2592000  # 30 x 24 x 3600
  accesstokens:
    secret: $JWT_ACCESS_SECRET
    algorithm: HS256
    lifetime: 300

postgres:
  host: ${PG_HOST:-localhost}
  port: ${PG_PORT:-5432}
  user: ${PG_USER:-authuser}
  password: ${PG_PASS:-authpassword}
  dbname: ${PG_DB:-authz}

logging:
  version: 1
  formatters:
    root:
      format: "%(asctime)s	%(name)s %(levelname)s (%(pathname)s/%(filename)s:%(funcName)s@%(lineno)d): %(message)s"
    auditlog:
      format: "%(asctime)s	%(name)s %(levelname)s (pid: %(process)d | ts: %(created)f) %(message)s"
    werkzeug:
      format: "%(asctime)s	%(name)s %(levelname)s: %(message)s"
  handlers:
    root:
      class : logging.StreamHandler
      formatter: root
    auditlog:
      class : logging.StreamHandler
      formatter: auditlog
    werkzeug:
      class : logging.StreamHandler
      formatter: werkzeug
  loggers:
    auditlog.authserver:
      level: DEBUG
      propagate: false
      handlers: [auditlog]
    werkzeug:
      propagate: false
      handlers: [werkzeug]
  root:
    level: ${LOGLEVEL:-DEBUG}
    handlers: [root]
